#!/usr/bin/env node
// Generate word pairs for characters missing coverage
// These are common 2-character words using the 63 missing characters

const missingChars = [
  '七', '三', '上', '不', '九', '也', '了', '五', '仙', '你',
  '們', '光', '兒', '八', '六', '力', '區', '十', '又', '叫',
  '和', '哥', '四', '土', '夜', '大', '女', '她', '妹', '媽',
  '它', '家', '寵', '山', '岳', '幾', '弟', '我', '有', '歲',
  '每', '波', '焚', '燈', '爸', '男', '的', '看', '社', '羊',
  '草', '著', '葉', '見', '這', '門', '隻', '雨', '雲', '頭',
  '風', '高', '鳥'
];

// Common 2-character words using these characters (Traditional Chinese)
// Format: [word, char1, char2, category]
const wordPairs = [
  // Numbers - months and common expressions
  ['七月', '七', '月', '時間'],
  ['三月', '三', '月', '時間'],
  ['三天', '三', '天', '時間'],
  ['五月', '五', '月', '時間'],
  ['五天', '五', '天', '時間'],
  ['九月', '九', '月', '時間'],
  ['八月', '八', '月', '時間'],
  ['六月', '六', '月', '時間'],
  ['十月', '十', '月', '時間'],
  ['十分', '十', '分', '程度'],
  ['四月', '四', '月', '時間'],
  ['四季', '四', '季', '自然'],

  // Common expressions with 上/不
  ['上面', '上', '面', '位置'],
  ['上課', '上', '課', '學校'],
  ['上去', '上', '去', '動作'],
  ['上午', '上', '午', '時間'],
  ['上班', '上', '班', '工作'],
  ['不要', '不', '要', '表達'],
  ['不是', '不', '是', '表達'],
  ['不行', '不', '行', '表達'],
  ['不好', '不', '好', '表達'],
  ['不會', '不', '會', '表達'],

  // Pronouns and people
  ['你好', '你', '好', '問候'],
  ['你們', '你', '們', '代詞'],
  ['她們', '她', '們', '代詞'],
  ['它們', '它', '們', '代詞'],
  ['我們', '我', '們', '代詞'],
  ['他們', '他', '們', '代詞'],

  // Family
  ['哥哥', '哥', '哥', '家人'],
  ['弟弟', '弟', '弟', '家人'],
  ['妹妹', '妹', '妹', '家人'],
  ['媽媽', '媽', '媽', '家人'],
  ['爸爸', '爸', '爸', '家人'],
  ['女兒', '女', '兒', '家人'],
  ['兒子', '兒', '子', '家人'],
  ['家人', '家', '人', '家人'],
  ['大家', '大', '家', '代詞'],
  ['男人', '男', '人', '人物'],
  ['女人', '女', '人', '人物'],
  ['大人', '大', '人', '人物'],

  // Nature
  ['山上', '山', '上', '自然'],
  ['高山', '高', '山', '自然'],
  ['下雨', '下', '雨', '天氣'],
  ['雨天', '雨', '天', '天氣'],
  ['白雲', '白', '雲', '自然'],
  ['雲朵', '雲', '朵', '自然'],
  ['大風', '大', '風', '天氣'],
  ['風景', '風', '景', '自然'],
  ['颱風', '颱', '風', '天氣'],
  ['草地', '草', '地', '自然'],
  ['小草', '小', '草', '自然'],
  ['小鳥', '小', '鳥', '動物'],
  ['鳥兒', '鳥', '兒', '動物'],
  ['山羊', '山', '羊', '動物'],
  ['綿羊', '綿', '羊', '動物'],
  ['樹葉', '樹', '葉', '自然'],
  ['葉子', '葉', '子', '自然'],
  ['土地', '土', '地', '自然'],

  // Light and night
  ['光明', '光', '明', '光線'],
  ['陽光', '陽', '光', '自然'],
  ['月光', '月', '光', '自然'],
  ['燈光', '燈', '光', '物品'],
  ['電燈', '電', '燈', '物品'],
  ['夜晚', '夜', '晚', '時間'],
  ['半夜', '半', '夜', '時間'],

  // Actions and states
  ['看見', '看', '見', '動作'],
  ['看書', '看', '書', '動作'],
  ['再見', '再', '見', '問候'],
  ['有人', '有', '人', '存在'],
  ['有時', '有', '時', '時間'],
  ['沒有', '沒', '有', '存在'],
  ['叫做', '叫', '做', '動作'],

  // Places and directions
  ['這裡', '這', '裡', '位置'],
  ['這個', '這', '個', '代詞'],
  ['門口', '門', '口', '位置'],
  ['大門', '大', '門', '建築'],
  ['區域', '區', '域', '地方'],
  ['社區', '社', '區', '地方'],

  // Body
  ['頭髮', '頭', '髮', '身體'],
  ['頭上', '頭', '上', '身體'],

  // Emotions and states
  ['高興', '高', '興', '情緒'],
  ['高大', '高', '大', '描述'],
  ['力量', '力', '量', '能力'],
  ['努力', '努', '力', '動作'],
  ['和平', '和', '平', '狀態'],

  // Time expressions
  ['每天', '每', '天', '時間'],
  ['每個', '每', '個', '量詞'],
  ['每年', '每', '年', '時間'],
  ['幾個', '幾', '個', '量詞'],
  ['幾歲', '幾', '歲', '年齡'],
  ['歲月', '歲', '月', '時間'],

  // Other common words
  ['了解', '了', '解', '動作'],
  ['也是', '也', '是', '連詞'],
  ['又是', '又', '是', '連詞'],
  ['寵物', '寵', '物', '動物'],
  ['波浪', '波', '浪', '自然'],
  ['社會', '社', '會', '社會'],
  ['仙女', '仙', '女', '神話'],
  ['神仙', '神', '仙', '神話'],
  ['岳父', '岳', '父', '家人'],
  ['山岳', '山', '岳', '自然'],
];

// Generate SQL migration
console.log('-- Migration: Add word pairs for 63 missing characters');
console.log('-- Generated: ' + new Date().toISOString());
console.log('');
console.log('INSERT INTO word_pairs (word, char1, char2, category) VALUES');

const values = wordPairs.map(([word, char1, char2, category], i) => {
  const comma = i < wordPairs.length - 1 ? ',' : ';';
  return `  ('${word}', '${char1}', '${char2}', '${category}')${comma}`;
});

console.log(values.join('\n'));

console.log('');
console.log(`-- Total: ${wordPairs.length} word pairs`);

// Also output coverage analysis
console.log('\n-- Coverage analysis:');
const coveredChars = new Set();
wordPairs.forEach(([word, char1, char2]) => {
  if (missingChars.includes(char1)) coveredChars.add(char1);
  if (missingChars.includes(char2)) coveredChars.add(char2);
});

const stillMissing = missingChars.filter(c => !coveredChars.has(c));
console.log(`-- Characters now covered: ${coveredChars.size}/${missingChars.length}`);
console.log(`-- Still missing: ${stillMissing.join(', ') || 'none'}`);
