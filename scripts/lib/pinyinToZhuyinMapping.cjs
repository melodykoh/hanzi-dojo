/**
 * Shared Pinyin to Zhuyin Mapping
 *
 * Consolidated mapping used by migration generator scripts.
 * Format: { pinyin: { parts: [initial, final, tone] } }
 *
 * Note: Empty string ('') represents no initial consonant (e.g., 'a', 'e', 'er')
 */

const PINYIN_TO_ZHUYIN = {
  // Common syllables (manually curated for accuracy)
  'zhe': { parts: ['ㄓ', 'ㄜ', '˙'] },
  'zhē': { parts: ['ㄓ', 'ㄜ', 'ˉ'] },
  'zhé': { parts: ['ㄓ', 'ㄜ', 'ˊ'] },
  'zhě': { parts: ['ㄓ', 'ㄜ', 'ˇ'] },
  'zhè': { parts: ['ㄓ', 'ㄜ', 'ˋ'] },
  'zhuō': { parts: ['ㄓ', 'ㄨㄛ', 'ˉ'] },
  'zhuó': { parts: ['ㄓ', 'ㄨㄛ', 'ˊ'] },
  'zhuǒ': { parts: ['ㄓ', 'ㄨㄛ', 'ˇ'] },
  'zhuò': { parts: ['ㄓ', 'ㄨㄛ', 'ˋ'] },
  'zhāo': { parts: ['ㄓ', 'ㄠ', 'ˉ'] },
  'zháo': { parts: ['ㄓ', 'ㄠ', 'ˊ'] },
  'zhǎo': { parts: ['ㄓ', 'ㄠ', 'ˇ'] },
  'zhào': { parts: ['ㄓ', 'ㄠ', 'ˋ'] },
  'dà': { parts: ['ㄉ', 'ㄚ', 'ˋ'] },
  'dài': { parts: ['ㄉ', 'ㄞ', 'ˋ'] },
  'tài': { parts: ['ㄊ', 'ㄞ', 'ˋ'] },
  'zhōng': { parts: ['ㄓ', 'ㄨㄥ', 'ˉ'] },
  'zhòng': { parts: ['ㄓ', 'ㄨㄥ', 'ˋ'] },
  'de': { parts: ['ㄉ', 'ㄜ', '˙'] },
  'dí': { parts: ['ㄉ', 'ㄧ', 'ˊ'] },
  'dì': { parts: ['ㄉ', 'ㄧ', 'ˋ'] },
  'kàn': { parts: ['ㄎ', 'ㄢ', 'ˋ'] },
  'kān': { parts: ['ㄎ', 'ㄢ', 'ˉ'] },
  'shuō': { parts: ['ㄕ', 'ㄨㄛ', 'ˉ'] },
  'shuì': { parts: ['ㄕ', 'ㄨㄟ', 'ˋ'] },
  'yuè': { parts: ['', 'ㄩㄝ', 'ˋ'] },
  'hē': { parts: ['ㄏ', 'ㄜ', 'ˉ'] },
  'hè': { parts: ['ㄏ', 'ㄜ', 'ˋ'] },
  'he': { parts: ['ㄏ', 'ㄜ', '˙'] },
  'pǎo': { parts: ['ㄆ', 'ㄠ', 'ˇ'] },
  'páo': { parts: ['ㄆ', 'ㄠ', 'ˊ'] },
  'fēn': { parts: ['ㄈ', 'ㄣ', 'ˉ'] },
  'fèn': { parts: ['ㄈ', 'ㄣ', 'ˋ'] },
  'hóng': { parts: ['ㄏ', 'ㄨㄥ', 'ˊ'] },
  'gōng': { parts: ['ㄍ', 'ㄨㄥ', 'ˉ'] },
  'lǜ': { parts: ['ㄌ', 'ㄩ', 'ˋ'] },
  'lù': { parts: ['ㄌ', 'ㄨ', 'ˋ'] },
  'chē': { parts: ['ㄔ', 'ㄜ', 'ˉ'] },
  'jū': { parts: ['ㄐ', 'ㄩ', 'ˉ'] },
  'dá': { parts: ['ㄉ', 'ㄚ', 'ˊ'] },
  'dā': { parts: ['ㄉ', 'ㄚ', 'ˉ'] },
  'huì': { parts: ['ㄏ', 'ㄨㄟ', 'ˋ'] },
  'kuài': { parts: ['ㄎ', 'ㄨㄞ', 'ˋ'] },
  'dé': { parts: ['ㄉ', 'ㄜ', 'ˊ'] },
  'děi': { parts: ['ㄉ', 'ㄟ', 'ˇ'] },
  'zuò': { parts: ['ㄗ', 'ㄨㄛ', 'ˋ'] },
  'zuō': { parts: ['ㄗ', 'ㄨㄛ', 'ˉ'] },
  'xīng': { parts: ['ㄒ', 'ㄧㄥ', 'ˉ'] },
  'xìng': { parts: ['ㄒ', 'ㄧㄥ', 'ˋ'] },
  'hé': { parts: ['ㄏ', 'ㄜ', 'ˊ'] },
  'huó': { parts: ['ㄏ', 'ㄨㄛ', 'ˊ'] },
  'huò': { parts: ['ㄏ', 'ㄨㄛ', 'ˋ'] },
  'hú': { parts: ['ㄏ', 'ㄨ', 'ˊ'] },
  'shí': { parts: ['ㄕ', '', 'ˊ'] },
  'zhì': { parts: ['ㄓ', '', 'ˋ'] },
  'lèi': { parts: ['ㄌ', 'ㄟ', 'ˋ'] },
  'lěi': { parts: ['ㄌ', 'ㄟ', 'ˇ'] },
  'léi': { parts: ['ㄌ', 'ㄟ', 'ˊ'] },
  'sè': { parts: ['ㄙ', 'ㄜ', 'ˋ'] },
  'shǎi': { parts: ['ㄕ', 'ㄞ', 'ˇ'] },
  'guò': { parts: ['ㄍ', 'ㄨㄛ', 'ˋ'] },
  'guo': { parts: ['ㄍ', 'ㄨㄛ', '˙'] },
  'guō': { parts: ['ㄍ', 'ㄨㄛ', 'ˉ'] },
  'dān': { parts: ['ㄉ', 'ㄢ', 'ˉ'] },
  'shàn': { parts: ['ㄕ', 'ㄢ', 'ˋ'] },
  'chán': { parts: ['ㄔ', 'ㄢ', 'ˊ'] },
  'fā': { parts: ['ㄈ', 'ㄚ', 'ˉ'] },
  'fà': { parts: ['ㄈ', 'ㄚ', 'ˋ'] },
  'chā': { parts: ['ㄔ', 'ㄚ', 'ˉ'] },
  'chà': { parts: ['ㄔ', 'ㄚ', 'ˋ'] },
  'chāi': { parts: ['ㄔ', 'ㄞ', 'ˉ'] },
  'cī': { parts: ['ㄘ', '', 'ˉ'] },
  'dāng': { parts: ['ㄉ', 'ㄤ', 'ˉ'] },
  'dàng': { parts: ['ㄉ', 'ㄤ', 'ˋ'] },
  'tí': { parts: ['ㄊ', 'ㄧ', 'ˊ'] },
  'dī': { parts: ['ㄉ', 'ㄧ', 'ˉ'] },
  'dǐ': { parts: ['ㄉ', 'ㄧ', 'ˇ'] },
  'shù': { parts: ['ㄕ', 'ㄨ', 'ˋ'] },
  'shǔ': { parts: ['ㄕ', 'ㄨ', 'ˇ'] },
  'shuò': { parts: ['ㄕ', 'ㄨㄛ', 'ˋ'] },
  'kōng': { parts: ['ㄎ', 'ㄨㄥ', 'ˉ'] },
  'kòng': { parts: ['ㄎ', 'ㄨㄥ', 'ˋ'] },
  'kǒng': { parts: ['ㄎ', 'ㄨㄥ', 'ˇ'] },
  'pàng': { parts: ['ㄆ', 'ㄤ', 'ˋ'] },
  'pán': { parts: ['ㄆ', 'ㄢ', 'ˊ'] },
  'pàn': { parts: ['ㄆ', 'ㄢ', 'ˋ'] },
  'jiǎo': { parts: ['ㄐ', 'ㄧㄠ', 'ˇ'] },
  'jué': { parts: ['ㄐ', 'ㄩㄝ', 'ˊ'] },
  'jié': { parts: ['ㄐ', 'ㄧㄝ', 'ˊ'] },
  'jiē': { parts: ['ㄐ', 'ㄧㄝ', 'ˉ'] },
  'jiě': { parts: ['ㄐ', 'ㄧㄝ', 'ˇ'] },
  'jiè': { parts: ['ㄐ', 'ㄧㄝ', 'ˋ'] },
  'xiè': { parts: ['ㄒ', 'ㄧㄝ', 'ˋ'] },
  'yǔ': { parts: ['', 'ㄩ', 'ˇ'] },
  'yù': { parts: ['', 'ㄩ', 'ˋ'] },
  'yú': { parts: ['', 'ㄩ', 'ˊ'] },
  'zǐ': { parts: ['ㄗ', '', 'ˇ'] },
  'zī': { parts: ['ㄗ', '', 'ˉ'] },
  'zǎi': { parts: ['ㄗ', 'ㄞ', 'ˇ'] },
  'yè': { parts: ['', 'ㄧㄝ', 'ˋ'] },
  'xié': { parts: ['ㄒ', 'ㄧㄝ', 'ˊ'] },
  'chǔ': { parts: ['ㄔ', 'ㄨ', 'ˇ'] },
  'chù': { parts: ['ㄔ', 'ㄨ', 'ˋ'] },
  'jǐn': { parts: ['ㄐ', 'ㄧㄣ', 'ˇ'] },
  'jìn': { parts: ['ㄐ', 'ㄧㄣ', 'ˋ'] },
  'shé': { parts: ['ㄕ', 'ㄜ', 'ˊ'] },
  'shóu': { parts: ['ㄕ', 'ㄡ', 'ˊ'] },
  'shú': { parts: ['ㄕ', 'ㄨ', 'ˊ'] },
  'jì': { parts: ['ㄐ', 'ㄧ', 'ˋ'] },
  'jǐ': { parts: ['ㄐ', 'ㄧ', 'ˇ'] },
  'zāng': { parts: ['ㄗ', 'ㄤ', 'ˉ'] },
  'zàng': { parts: ['ㄗ', 'ㄤ', 'ˋ'] },
  'bo': { parts: ['ㄅ', 'ㄛ', '˙'] },
  'bó': { parts: ['ㄅ', 'ㄛ', 'ˊ'] },
  'luò': { parts: ['ㄌ', 'ㄨㄛ', 'ˋ'] },
  'lào': { parts: ['ㄌ', 'ㄠ', 'ˋ'] },
  'là': { parts: ['ㄌ', 'ㄚ', 'ˋ'] },
  'zhuǎn': { parts: ['ㄓ', 'ㄨㄢ', 'ˇ'] },
  'zhuàn': { parts: ['ㄓ', 'ㄨㄢ', 'ˋ'] },
  'tōng': { parts: ['ㄊ', 'ㄨㄥ', 'ˉ'] },
  'tòng': { parts: ['ㄊ', 'ㄨㄥ', 'ˋ'] },
  'yào': { parts: ['', 'ㄧㄠ', 'ˋ'] },

  // Additional common syllables
  'jiàn': { parts: ['ㄐ', 'ㄧㄢ', 'ˋ'] },
  'xiàn': { parts: ['ㄒ', 'ㄧㄢ', 'ˋ'] },
  'liù': { parts: ['ㄌ', 'ㄧㄡ', 'ˋ'] },
  'shàng': { parts: ['ㄕ', 'ㄤ', 'ˋ'] },
  'shǎng': { parts: ['ㄕ', 'ㄤ', 'ˇ'] },
  'bù': { parts: ['ㄅ', 'ㄨ', 'ˋ'] },
  'fǒu': { parts: ['ㄈ', 'ㄡ', 'ˇ'] },
  'tā': { parts: ['ㄊ', 'ㄚ', 'ˉ'] },
  'le': { parts: ['ㄌ', 'ㄜ', '˙'] },
  'liǎo': { parts: ['ㄌ', 'ㄧㄠ', 'ˇ'] },
  'yǒu': { parts: ['', 'ㄧㄡ', 'ˇ'] },
  'yòu': { parts: ['', 'ㄧㄡ', 'ˋ'] },
  'zhèi': { parts: ['ㄓ', 'ㄟ', 'ˋ'] },
  'nà': { parts: ['ㄋ', 'ㄚ', 'ˋ'] },
  'nǎ': { parts: ['ㄋ', 'ㄚ', 'ˇ'] },
  'nèi': { parts: ['ㄋ', 'ㄟ', 'ˋ'] },
  'nā': { parts: ['ㄋ', 'ㄚ', 'ˉ'] },
  'gè': { parts: ['ㄍ', 'ㄜ', 'ˋ'] },
  'gě': { parts: ['ㄍ', 'ㄜ', 'ˇ'] },
  'dú': { parts: ['ㄉ', 'ㄨ', 'ˊ'] },
  'dòu': { parts: ['ㄉ', 'ㄡ', 'ˋ'] },
  'tì': { parts: ['ㄊ', 'ㄧ', 'ˋ'] },
  'tuí': { parts: ['ㄊ', 'ㄨㄟ', 'ˊ'] },
  'ér': { parts: ['', 'ㄦ', 'ˊ'] },
  'er': { parts: ['', 'ㄦ', '˙'] },
  'nǚ': { parts: ['ㄋ', 'ㄩ', 'ˇ'] },
  'rǔ': { parts: ['ㄖ', 'ㄨ', 'ˇ'] },
  'hǎo': { parts: ['ㄏ', 'ㄠ', 'ˇ'] },
  'hào': { parts: ['ㄏ', 'ㄠ', 'ˋ'] },
  'shǎo': { parts: ['ㄕ', 'ㄠ', 'ˇ'] },
  'shào': { parts: ['ㄕ', 'ㄠ', 'ˋ'] },
  'cháng': { parts: ['ㄔ', 'ㄤ', 'ˊ'] },
  'zhǎng': { parts: ['ㄓ', 'ㄤ', 'ˇ'] },
  'nán': { parts: ['ㄋ', 'ㄢ', 'ˊ'] },
  'běi': { parts: ['ㄅ', 'ㄟ', 'ˇ'] },
  'bèi': { parts: ['ㄅ', 'ㄟ', 'ˋ'] },
  'tóu': { parts: ['ㄊ', 'ㄡ', 'ˊ'] },
  'tou': { parts: ['ㄊ', 'ㄡ', '˙'] },
  'jiā': { parts: ['ㄐ', 'ㄧㄚ', 'ˉ'] },
  'jia': { parts: ['ㄐ', 'ㄧㄚ', '˙'] },
  'yáng': { parts: ['', 'ㄧㄤ', 'ˊ'] },
  'xiáng': { parts: ['ㄒ', 'ㄧㄤ', 'ˊ'] },
  'māo': { parts: ['ㄇ', 'ㄠ', 'ˉ'] },
  'máo': { parts: ['ㄇ', 'ㄠ', 'ˊ'] },
  'fēng': { parts: ['ㄈ', 'ㄥ', 'ˉ'] },
  'fěng': { parts: ['ㄈ', 'ㄥ', 'ˇ'] },
  'zhī': { parts: ['ㄓ', '', 'ˉ'] },
  'néng': { parts: ['ㄋ', 'ㄥ', 'ˊ'] },
  'nài': { parts: ['ㄋ', 'ㄞ', 'ˋ'] },
  'yāo': { parts: ['', 'ㄧㄠ', 'ˉ'] },
  'ma': { parts: ['ㄇ', 'ㄚ', '˙'] },
  'má': { parts: ['ㄇ', 'ㄚ', 'ˊ'] },
  'mǎ': { parts: ['ㄇ', 'ㄚ', 'ˇ'] },
  'na': { parts: ['ㄋ', 'ㄚ', '˙'] },
  'něi': { parts: ['ㄋ', 'ㄟ', 'ˇ'] },
  'piāo': { parts: ['ㄆ', 'ㄧㄠ', 'ˉ'] },
  'piào': { parts: ['ㄆ', 'ㄧㄠ', 'ˋ'] },
  'piǎo': { parts: ['ㄆ', 'ㄧㄠ', 'ˇ'] },
  'lè': { parts: ['ㄌ', 'ㄜ', 'ˋ'] },
  'yuán': { parts: ['', 'ㄩㄢ', 'ˊ'] },
  'yún': { parts: ['', 'ㄩㄣ', 'ˊ'] },
  'yùn': { parts: ['', 'ㄩㄣ', 'ˋ'] },
  'yuǎn': { parts: ['', 'ㄩㄢ', 'ˇ'] },
  'qiān': { parts: ['ㄑ', 'ㄧㄢ', 'ˉ'] },
  'yán': { parts: ['', 'ㄧㄢ', 'ˊ'] },
  'wàn': { parts: ['', 'ㄨㄢ', 'ˋ'] },
  'mò': { parts: ['ㄇ', 'ㄛ', 'ˋ'] },
  'cān': { parts: ['ㄘ', 'ㄢ', 'ˉ'] },
  'shēn': { parts: ['ㄕ', 'ㄣ', 'ˉ'] },
  'cēn': { parts: ['ㄘ', 'ㄣ', 'ˉ'] },
  'sān': { parts: ['ㄙ', 'ㄢ', 'ˉ'] },
  'ā': { parts: ['', 'ㄚ', 'ˉ'] },
  'á': { parts: ['', 'ㄚ', 'ˊ'] },
  'ǎ': { parts: ['', 'ㄚ', 'ˇ'] },
  'à': { parts: ['', 'ㄚ', 'ˋ'] },
  'a': { parts: ['', 'ㄚ', '˙'] },
  'huài': { parts: ['ㄏ', 'ㄨㄞ', 'ˋ'] },
  'pēi': { parts: ['ㄆ', 'ㄟ', 'ˉ'] },
  'pī': { parts: ['ㄆ', '', 'ˉ'] },
  'zán': { parts: ['ㄗ', 'ㄢ', 'ˊ'] },
  'zá': { parts: ['ㄗ', 'ㄚ', 'ˊ'] },
  'za': { parts: ['ㄗ', 'ㄚ', '˙'] },
  'bìng': { parts: ['ㄅ', 'ㄧㄥ', 'ˋ'] },
  'bīng': { parts: ['ㄅ', 'ㄧㄥ', 'ˉ'] },
  'guǎng': { parts: ['ㄍ', 'ㄨㄤ', 'ˇ'] },
  'ān': { parts: ['', 'ㄢ', 'ˉ'] },
  'zhú': { parts: ['ㄓ', 'ㄨ', 'ˊ'] },
  'xǔ': { parts: ['ㄒ', 'ㄩ', 'ˇ'] },
  'hǔ': { parts: ['ㄏ', 'ㄨ', 'ˇ'] },

  // Additional mappings for warnings
  'kài': { parts: ['ㄎ', 'ㄞ', 'ˋ'] },
  'bàn': { parts: ['ㄅ', 'ㄢ', 'ˋ'] },
  'fen': { parts: ['ㄈ', 'ㄣ', '˙'] },
  'fén': { parts: ['ㄈ', 'ㄣ', 'ˊ'] },
  'zuó': { parts: ['ㄗ', 'ㄨㄛ', 'ˊ'] },
  'huo': { parts: ['ㄏ', 'ㄨㄛ', '˙'] },
  'shi': { parts: ['ㄕ', '', '˙'] },
  'shì': { parts: ['ㄕ', '', 'ˋ'] },
  'liè': { parts: ['ㄌ', 'ㄧㄝ', 'ˋ'] },
  'fa': { parts: ['ㄈ', 'ㄚ', '˙'] },
  'chài': { parts: ['ㄔ', 'ㄞ', 'ˋ'] },
  'cuō': { parts: ['ㄘ', 'ㄨㄛ', 'ˉ'] },
  'dang': { parts: ['ㄉ', 'ㄤ', '˙'] },
  'chí': { parts: ['ㄔ', '', 'ˊ'] },
  'shu': { parts: ['ㄕ', 'ㄨ', '˙'] },
  'chu': { parts: ['ㄔ', 'ㄨ', '˙'] },
  'pò': { parts: ['ㄆ', 'ㄛ', 'ˋ'] },
  'luō': { parts: ['ㄌ', 'ㄨㄛ', 'ˉ'] },
  'zhuǎi': { parts: ['ㄓ', 'ㄨㄞ', 'ˇ'] },
  'chánɡ': { parts: ['ㄔ', 'ㄤ', 'ˊ'] },
  'né': { parts: ['ㄋ', 'ㄜ', 'ˊ'] }, // Fixed typo (was 'nBné')
  'yuàn': { parts: ['', 'ㄩㄢ', 'ˋ'] },
  'péi': { parts: ['ㄆ', 'ㄟ', 'ˊ'] },
  'zǎ': { parts: ['ㄗ', 'ㄚ', 'ˇ'] },
  'nǎi': { parts: ['ㄋ', 'ㄞ', 'ˇ'] },

  // From generate-migration-011g.cjs
  'me': { parts: ['ㄇ', 'ㄜ', '˙'] },
  'mó': { parts: ['ㄇ', 'ㄛ', 'ˊ'] },
  'huà': { parts: ['ㄏ', 'ㄨㄚ', 'ˋ'] },
  'huā': { parts: ['ㄏ', 'ㄨㄚ', 'ˉ'] },
  'qū': { parts: ['ㄑ', 'ㄩ', 'ˉ'] },
  'ōu': { parts: ['', 'ㄡ', 'ˉ'] },
  'zhàn': { parts: ['ㄓ', 'ㄢ', 'ˋ'] },
  'zhān': { parts: ['ㄓ', 'ㄢ', 'ˉ'] },
  'kǎ': { parts: ['ㄎ', 'ㄚ', 'ˇ'] },
  'qiǎ': { parts: ['ㄑ', 'ㄧㄚ', 'ˇ'] },
  'yā': { parts: ['', 'ㄧㄚ', 'ˉ'] },
  'yà': { parts: ['', 'ㄧㄚ', 'ˋ'] },
  'jù': { parts: ['ㄐ', 'ㄩ', 'ˋ'] },
  'gōu': { parts: ['ㄍ', 'ㄡ', 'ˉ'] },
  'kě': { parts: ['ㄎ', 'ㄜ', 'ˇ'] },
  'kè': { parts: ['ㄎ', 'ㄜ', 'ˋ'] },
  'tái': { parts: ['ㄊ', 'ㄞ', 'ˊ'] },
  'tāi': { parts: ['ㄊ', 'ㄞ', 'ˉ'] },
  'pǐ': { parts: ['ㄆ', '', 'ˇ'] },
  'ba': { parts: ['ㄅ', 'ㄚ', '˙'] },
  'bā': { parts: ['ㄅ', 'ㄚ', 'ˉ'] },
  'ya': { parts: ['', 'ㄧㄚ', '˙'] },
  'kā': { parts: ['ㄎ', 'ㄚ', 'ˉ'] },
  'gā': { parts: ['ㄍ', 'ㄚ', 'ˉ'] },
  'ké': { parts: ['ㄎ', 'ㄜ', 'ˊ'] },
  'hāi': { parts: ['ㄏ', 'ㄞ', 'ˉ'] },
  'tián': { parts: ['ㄊ', 'ㄧㄢ', 'ˊ'] },
  'zhèn': { parts: ['ㄓ', 'ㄣ', 'ˋ'] },
  'fū': { parts: ['ㄈ', 'ㄨ', 'ˉ'] },
  'fú': { parts: ['ㄈ', 'ㄨ', 'ˊ'] },
  'qí': { parts: ['ㄑ', 'ㄧ', 'ˊ'] },
  'jī': { parts: ['ㄐ', 'ㄧ', 'ˉ'] },
  'qī': { parts: ['ㄑ', 'ㄧ', 'ˉ'] },
  'qì': { parts: ['ㄑ', 'ㄧ', 'ˋ'] },
  'sūn': { parts: ['ㄙ', 'ㄨㄣ', 'ˉ'] },
  'xùn': { parts: ['ㄒ', 'ㄩㄣ', 'ˋ'] },
  'dù': { parts: ['ㄉ', 'ㄨ', 'ˋ'] },
  'duó': { parts: ['ㄉ', 'ㄨㄛ', 'ˊ'] },
  'nòng': { parts: ['ㄋ', 'ㄨㄥ', 'ˋ'] },
  'lòng': { parts: ['ㄌ', 'ㄨㄥ', 'ˋ'] },
  'sī': { parts: ['ㄙ', '', 'ˉ'] },
  'sāi': { parts: ['ㄙ', 'ㄞ', 'ˉ'] },
  'tōu': { parts: ['ㄊ', 'ㄡ', 'ˉ'] },
  'xì': { parts: ['ㄒ', 'ㄧ', 'ˋ'] },
  'hū': { parts: ['ㄏ', 'ㄨ', 'ˉ'] },
  'dǎ': { parts: ['ㄉ', 'ㄚ', 'ˇ'] },
  'zé': { parts: ['ㄗ', 'ㄜ', 'ˊ'] },
  'zhái': { parts: ['ㄓ', 'ㄞ', 'ˊ'] },
  'shè': { parts: ['ㄕ', 'ㄜ', 'ˋ'] },
  'pái': { parts: ['ㄆ', 'ㄞ', 'ˊ'] },
  'pǎi': { parts: ['ㄆ', 'ㄞ', 'ˇ'] },
  'sàn': { parts: ['ㄙ', 'ㄢ', 'ˋ'] },
  'sǎn': { parts: ['ㄙ', 'ㄢ', 'ˇ'] },
  'jǐng': { parts: ['ㄐ', 'ㄧㄥ', 'ˇ'] },
  'yǐng': { parts: ['', 'ㄧㄥ', 'ˇ'] },
  'fù': { parts: ['ㄈ', 'ㄨ', 'ˋ'] },
  'tiáo': { parts: ['ㄊ', 'ㄧㄠ', 'ˊ'] },
  'tiāo': { parts: ['ㄊ', 'ㄧㄠ', 'ˉ'] },
  'chá': { parts: ['ㄔ', 'ㄚ', 'ˊ'] },
  'zhā': { parts: ['ㄓ', 'ㄚ', 'ˉ'] },
  'xiào': { parts: ['ㄒ', 'ㄧㄠ', 'ˋ'] },
  'jiào': { parts: ['ㄐ', 'ㄧㄠ', 'ˋ'] },
  'yǐ': { parts: ['', 'ㄧ', 'ˇ'] },
  'hàn': { parts: ['ㄏ', 'ㄢ', 'ˋ'] },
  'hán': { parts: ['ㄏ', 'ㄢ', 'ˊ'] },
  'tāng': { parts: ['ㄊ', 'ㄤ', 'ˉ'] },
  'shāng': { parts: ['ㄕ', 'ㄤ', 'ˉ'] },
  'shā': { parts: ['ㄕ', 'ㄚ', 'ˉ'] },
  'shà': { parts: ['ㄕ', 'ㄚ', 'ˋ'] },
  'fǔ': { parts: ['ㄈ', 'ㄨ', 'ˇ'] },
  'piàn': { parts: ['ㄆ', 'ㄧㄢ', 'ˋ'] },
  'piān': { parts: ['ㄆ', 'ㄧㄢ', 'ˉ'] },
  'shèn': { parts: ['ㄕ', 'ㄣ', 'ˋ'] },
  'shén': { parts: ['ㄕ', 'ㄣ', 'ˊ'] },
  'yí': { parts: ['', 'ㄧ', 'ˊ'] },
  'nǐ': { parts: ['ㄋ', 'ㄧ', 'ˇ'] },
  'yàn': { parts: ['', 'ㄧㄢ', 'ˋ'] },
  'jīn': { parts: ['ㄐ', 'ㄧㄣ', 'ˉ'] },
  'shāo': { parts: ['ㄕ', 'ㄠ', 'ˉ'] },
  'yuē': { parts: ['', 'ㄩㄝ', 'ˉ'] },
  'dǔ': { parts: ['ㄉ', 'ㄨ', 'ˇ'] },
  'gē': { parts: ['ㄍ', 'ㄜ', 'ˉ'] },
  'gāo': { parts: ['ㄍ', 'ㄠ', 'ˉ'] },
  'gào': { parts: ['ㄍ', 'ㄠ', 'ˋ'] },
  'píng': { parts: ['ㄆ', 'ㄧㄥ', 'ˊ'] },
  'pēng': { parts: ['ㄆ', 'ㄥ', 'ˉ'] },
  'guān': { parts: ['ㄍ', 'ㄨㄢ', 'ˉ'] },
  'guàn': { parts: ['ㄍ', 'ㄨㄢ', 'ˋ'] },
  'lùn': { parts: ['ㄌ', 'ㄨㄣ', 'ˋ'] },
  'lún': { parts: ['ㄌ', 'ㄨㄣ', 'ˊ'] },
  'shuí': { parts: ['ㄕ', 'ㄨㄟ', 'ˊ'] },
  'shéi': { parts: ['ㄕ', 'ㄟ', 'ˊ'] },
  'zhài': { parts: ['ㄓ', 'ㄞ', 'ˋ'] },
  'zuàn': { parts: ['ㄗ', 'ㄨㄢ', 'ˋ'] },
  'tàng': { parts: ['ㄊ', 'ㄤ', 'ˋ'] },
  'qù': { parts: ['ㄑ', 'ㄩ', 'ˋ'] },
  'cù': { parts: ['ㄘ', 'ㄨ', 'ˋ'] },
  'tiào': { parts: ['ㄊ', 'ㄧㄠ', 'ˋ'] },
  'táo': { parts: ['ㄊ', 'ㄠ', 'ˊ'] },
  'gāng': { parts: ['ㄍ', 'ㄤ', 'ˉ'] },
  'gàng': { parts: ['ㄍ', 'ㄤ', 'ˋ'] },
};

/**
 * Convert pinyin to zhuyin array format
 * @param {string} pinyin - Pinyin syllable (with tone marks)
 * @returns {Array<Array<string>>} Zhuyin parts in array format
 * @throws {Error} If pinyin mapping not found
 */
function pinyinToZhuyinArray(pinyin) {
  const mapping = PINYIN_TO_ZHUYIN[pinyin];
  if (mapping) {
    return [mapping.parts];
  }
  throw new Error(`Missing zhuyin mapping for pinyin: ${pinyin}. Add to PINYIN_TO_ZHUYIN.`);
}

module.exports = { PINYIN_TO_ZHUYIN, pinyinToZhuyinArray };
