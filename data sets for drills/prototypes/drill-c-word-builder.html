<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Word Builder - Ë©ûË™ûÂ§ßÂ∏´</title>
  <style>
    * {
      box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Noto Sans TC", sans-serif;
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
      min-height: 100vh;
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .header {
      text-align: center;
      margin-bottom: 20px;
    }

    .title {
      font-size: 28px;
      color: #ffd700;
      margin: 0;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }

    .subtitle {
      color: #aaa;
      font-size: 14px;
      margin-top: 5px;
    }

    .score-bar {
      display: flex;
      gap: 20px;
      color: white;
      font-size: 18px;
      margin-bottom: 20px;
    }

    .score-item {
      background: rgba(255,255,255,0.1);
      padding: 8px 16px;
      border-radius: 20px;
    }

    .game-area {
      background: rgba(255,255,255,0.05);
      border-radius: 20px;
      padding: 30px;
      max-width: 500px;
      width: 100%;
    }

    .prompt {
      text-align: center;
      color: white;
      font-size: 18px;
      margin-bottom: 20px;
    }

    .target-area {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
      margin-bottom: 30px;
    }

    .target-char {
      width: 100px;
      height: 100px;
      background: linear-gradient(145deg, #e63946, #c1121f);
      border-radius: 15px;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      box-shadow: 0 8px 20px rgba(230, 57, 70, 0.4);
    }

    .target-char .hanzi {
      font-size: 48px;
      color: white;
      line-height: 1;
    }

    .target-char .zhuyin {
      font-size: 14px;
      color: rgba(255,255,255,0.8);
      margin-top: 5px;
    }

    .blank-slot {
      width: 100px;
      height: 100px;
      border: 4px dashed rgba(255,255,255,0.3);
      border-radius: 15px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 48px;
      color: rgba(255,255,255,0.3);
      transition: all 0.3s;
    }

    .blank-slot.highlight {
      border-color: #ffd700;
      background: rgba(255,215,0,0.1);
    }

    .blank-slot.filled {
      background: linear-gradient(145deg, #2ecc71, #27ae60);
      border: none;
      color: white;
      box-shadow: 0 8px 20px rgba(46, 204, 113, 0.4);
    }

    .blank-slot .filled-content {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .blank-slot .filled-hanzi {
      font-size: 48px;
      line-height: 1;
    }

    .blank-slot .filled-zhuyin {
      font-size: 14px;
      opacity: 0.8;
      margin-top: 5px;
    }

    .options {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 15px;
    }

    .option {
      background: linear-gradient(145deg, #3498db, #2980b9);
      border: none;
      border-radius: 15px;
      padding: 20px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      flex-direction: column;
      align-items: center;
      box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
    }

    .option:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(52, 152, 219, 0.4);
    }

    .option:active {
      transform: scale(0.95);
    }

    .option .hanzi {
      font-size: 42px;
      color: white;
      line-height: 1;
    }

    .option .zhuyin {
      font-size: 16px;
      color: rgba(255,255,255,0.8);
      margin-top: 8px;
    }

    .option.correct {
      background: linear-gradient(145deg, #2ecc71, #27ae60);
      animation: pulse 0.5s;
    }

    .option.wrong {
      background: linear-gradient(145deg, #666, #444);
      animation: shake 0.5s;
    }

    .option.disabled {
      pointer-events: none;
      opacity: 0.5;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-10px); }
      75% { transform: translateX(10px); }
    }

    @keyframes spinjitzu {
      0% { transform: rotate(0deg) scale(1); }
      50% { transform: rotate(180deg) scale(1.2); }
      100% { transform: rotate(360deg) scale(1); }
    }

    .celebration {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 80px;
      animation: spinjitzu 0.8s ease-out;
      pointer-events: none;
      z-index: 100;
    }

    .word-result {
      text-align: center;
      margin-top: 20px;
      padding: 15px;
      background: rgba(46, 204, 113, 0.2);
      border-radius: 10px;
      color: #2ecc71;
      font-size: 24px;
      display: none;
    }

    .word-result.show {
      display: block;
      animation: pulse 0.5s;
    }

    .next-btn {
      display: none;
      margin-top: 20px;
      background: linear-gradient(145deg, #ffd700, #ffb700);
      border: none;
      border-radius: 25px;
      padding: 15px 40px;
      font-size: 20px;
      color: #1a1a2e;
      cursor: pointer;
      font-weight: bold;
    }

    .next-btn.show {
      display: block;
    }

    .progress-dots {
      display: flex;
      gap: 8px;
      margin-top: 20px;
    }

    .dot {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background: rgba(255,255,255,0.2);
    }

    .dot.complete {
      background: #2ecc71;
    }

    .dot.current {
      background: #ffd700;
    }
  </style>
</head>
<body>
  <div class="header">
    <h1 class="title">Ë©ûË™ûÂ§ßÂ∏´</h1>
    <p class="subtitle">Word Builder</p>
  </div>

  <div class="score-bar">
    <div class="score-item">‚úì <span id="correct">0</span></div>
    <div class="score-item">‚úó <span id="wrong">0</span></div>
  </div>

  <div class="game-area">
    <div class="prompt">ÈÅ∏‰∏ÄÂÄãÂ≠ó‰æÜÂÆåÊàêË©ûË™ûÔºÅ</div>

    <div class="target-area">
      <div class="target-char">
        <span class="hanzi" id="targetChar">Êúà</span>
        <span class="zhuyin" id="targetZhuyin">„Ñ©„ÑùÀã</span>
      </div>
      <div class="blank-slot" id="blankSlot">?</div>
    </div>

    <div class="options" id="options">
      <!-- Options will be inserted here -->
    </div>

    <div class="word-result" id="wordResult"></div>

    <button class="next-btn" id="nextBtn" onclick="nextQuestion()">‰∏ã‰∏ÄÈ°å ‚Üí</button>

    <div class="progress-dots" id="progressDots">
      <!-- Dots will be inserted here -->
    </div>
  </div>

  <div class="celebration" id="celebration" style="display:none;"></div>

  <script>
    // Word pairs: [targetChar, targetZhuyin, correctAnswer, correctZhuyin, wordMeaning]
    // Plus 3 wrong options
    const questions = [
      {
        target: "Êúà", targetZhuyin: "„Ñ©„ÑùÀã",
        correct: "‰∫Æ", correctZhuyin: "„Ñå„Ñß„Ñ§Àã",
        word: "Êúà‰∫Æ", meaning: "moon",
        wrongs: [
          { char: "ÁôΩ", zhuyin: "„ÑÖ„ÑûÀä" },
          { char: "ÂÖâ", zhuyin: "„Ñç„Ñ®„Ñ§" },
          { char: "Ë¶ã", zhuyin: "„Ñê„Ñß„Ñ¢Àã" }
        ]
      },
      {
        target: "Â§™", targetZhuyin: "„Ñä„ÑûÀã",
        correct: "ÈôΩ", correctZhuyin: "„Ñß„Ñ§Àä",
        word: "Â§™ÈôΩ", meaning: "sun",
        wrongs: [
          { char: "Â§ß", zhuyin: "„Ñâ„ÑöÀã" },
          { char: "Â§©", zhuyin: "„Ñä„Ñß„Ñ¢" },
          { char: "‰∫Æ", zhuyin: "„Ñå„Ñß„Ñ§Àã" }
        ]
      },
      {
        target: "Áúã", targetZhuyin: "„Ñé„Ñ¢Àã",
        correct: "Ë¶ã", correctZhuyin: "„Ñê„Ñß„Ñ¢Àã",
        word: "ÁúãË¶ã", meaning: "to see",
        wrongs: [
          { char: "Êõ∏", zhuyin: "„Ñï„Ñ®" },
          { char: "Âà∞", zhuyin: "„Ñâ„Ñ†Àã" },
          { char: "Êàë", zhuyin: "„Ñ®„ÑõÀá" }
        ]
      },
      {
        target: "Èªë", targetZhuyin: "„Ñè„Ñü",
        correct: "ÁôΩ", correctZhuyin: "„ÑÖ„ÑûÀä",
        word: "ÈªëÁôΩ", meaning: "black & white",
        wrongs: [
          { char: "Ëâ≤", zhuyin: "„Ñô„ÑúÀã" },
          { char: "Â§ú", zhuyin: "„Ñß„ÑùÀã" },
          { char: "Â§©", zhuyin: "„Ñä„Ñß„Ñ¢" }
        ]
      },
      {
        target: "Ëä±", targetZhuyin: "„Ñè„Ñ®„Ñö",
        correct: "Ëçâ", correctZhuyin: "„Ñò„Ñ†Àá",
        word: "Ëä±Ëçâ", meaning: "flowers & grass",
        wrongs: [
          { char: "Âúí", zhuyin: "„Ñ©„Ñ¢Àä" },
          { char: "Èñã", zhuyin: "„Ñé„Ñû" },
          { char: "Á¥Ö", zhuyin: "„Ñè„Ñ®„Ñ•Àä" }
        ]
      },
      {
        target: "Ááà", targetZhuyin: "„Ñâ„Ñ•",
        correct: "ÂÖâ", correctZhuyin: "„Ñç„Ñ®„Ñ§",
        word: "ÁáàÂÖâ", meaning: "light",
        wrongs: [
          { char: "ÁÅ´", zhuyin: "„Ñè„Ñ®„ÑõÀá" },
          { char: "‰∫Æ", zhuyin: "„Ñå„Ñß„Ñ§Àã" },
          { char: "Êòé", zhuyin: "„Ñá„Ñß„Ñ•Àä" }
        ]
      },
      {
        target: "ÂÖâ", targetZhuyin: "„Ñç„Ñ®„Ñ§",
        correct: "Êòé", correctZhuyin: "„Ñá„Ñß„Ñ•Àä",
        word: "ÂÖâÊòé", meaning: "bright",
        wrongs: [
          { char: "‰∫Æ", zhuyin: "„Ñå„Ñß„Ñ§Àã" },
          { char: "Á∑ö", zhuyin: "„Ñí„Ñß„Ñ¢Àã" },
          { char: "Â§©", zhuyin: "„Ñä„Ñß„Ñ¢" }
        ]
      },
      {
        target: "ÁôΩ", targetZhuyin: "„ÑÖ„ÑûÀä",
        correct: "Â§©", correctZhuyin: "„Ñä„Ñß„Ñ¢",
        word: "ÁôΩÂ§©", meaning: "daytime",
        wrongs: [
          { char: "Ëâ≤", zhuyin: "„Ñô„ÑúÀã" },
          { char: "Èõ≤", zhuyin: "„Ñ©„Ñ£Àä" },
          { char: "Á¥ô", zhuyin: "„ÑìÀá" }
        ]
      }
    ];

    let currentQuestion = 0;
    let correctCount = 0;
    let wrongCount = 0;

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function renderQuestion() {
      const q = questions[currentQuestion];

      document.getElementById('targetChar').textContent = q.target;
      document.getElementById('targetZhuyin').textContent = q.targetZhuyin;

      const blankSlot = document.getElementById('blankSlot');
      blankSlot.innerHTML = '?';
      blankSlot.className = 'blank-slot';

      document.getElementById('wordResult').className = 'word-result';
      document.getElementById('nextBtn').className = 'next-btn';

      // Create options array with correct answer and wrong options
      const options = [
        { char: q.correct, zhuyin: q.correctZhuyin, isCorrect: true },
        ...q.wrongs.map(w => ({ ...w, isCorrect: false }))
      ];

      shuffle(options);

      const optionsContainer = document.getElementById('options');
      optionsContainer.innerHTML = options.map((opt, i) => `
        <button class="option" onclick="selectOption(this, ${opt.isCorrect}, '${opt.char}', '${opt.zhuyin}')">
          <span class="hanzi">${opt.char}</span>
          <span class="zhuyin">${opt.zhuyin}</span>
        </button>
      `).join('');

      // Update progress dots
      const dotsContainer = document.getElementById('progressDots');
      dotsContainer.innerHTML = questions.map((_, i) => {
        let className = 'dot';
        if (i < currentQuestion) className += ' complete';
        if (i === currentQuestion) className += ' current';
        return `<div class="${className}"></div>`;
      }).join('');
    }

    function selectOption(element, isCorrect, char, zhuyin) {
      const allOptions = document.querySelectorAll('.option');
      allOptions.forEach(opt => opt.classList.add('disabled'));

      const q = questions[currentQuestion];
      const blankSlot = document.getElementById('blankSlot');

      if (isCorrect) {
        element.classList.add('correct');
        correctCount++;
        document.getElementById('correct').textContent = correctCount;

        // Fill in the blank
        blankSlot.className = 'blank-slot filled';
        blankSlot.innerHTML = `
          <div class="filled-content">
            <span class="filled-hanzi">${char}</span>
            <span class="filled-zhuyin">${zhuyin}</span>
          </div>
        `;

        // Show celebration
        const celebration = document.getElementById('celebration');
        celebration.textContent = ['üéâ', '‚≠ê', 'üî•', 'üí™', 'ü•ã'][Math.floor(Math.random() * 5)];
        celebration.style.display = 'block';
        setTimeout(() => { celebration.style.display = 'none'; }, 800);

        // Show word result
        const wordResult = document.getElementById('wordResult');
        wordResult.innerHTML = `${q.word} = ${q.meaning}`;
        wordResult.className = 'word-result show';

      } else {
        element.classList.add('wrong');
        wrongCount++;
        document.getElementById('wrong').textContent = wrongCount;

        // Highlight the correct answer
        setTimeout(() => {
          allOptions.forEach(opt => {
            if (opt.querySelector('.hanzi').textContent === q.correct) {
              opt.classList.remove('disabled');
              opt.classList.add('correct');
            }
          });

          blankSlot.className = 'blank-slot filled';
          blankSlot.innerHTML = `
            <div class="filled-content">
              <span class="filled-hanzi">${q.correct}</span>
              <span class="filled-zhuyin">${q.correctZhuyin}</span>
            </div>
          `;

          const wordResult = document.getElementById('wordResult');
          wordResult.innerHTML = `${q.word} = ${q.meaning}`;
          wordResult.className = 'word-result show';
        }, 500);
      }

      document.getElementById('nextBtn').className = 'next-btn show';
    }

    function nextQuestion() {
      currentQuestion++;
      if (currentQuestion >= questions.length) {
        // Game complete!
        document.querySelector('.game-area').innerHTML = `
          <div style="text-align: center; color: white;">
            <div style="font-size: 60px; margin-bottom: 20px;">üèÜ</div>
            <h2 style="color: #ffd700; margin-bottom: 10px;">ÂÆåÊàêÔºÅ</h2>
            <p style="font-size: 24px;">Ê≠£Á¢∫: ${correctCount} / ${questions.length}</p>
            <button onclick="location.reload()" style="
              margin-top: 20px;
              background: linear-gradient(145deg, #ffd700, #ffb700);
              border: none;
              border-radius: 25px;
              padding: 15px 40px;
              font-size: 20px;
              cursor: pointer;
              font-weight: bold;
            ">ÂÜçÁé©‰∏ÄÊ¨°</button>
          </div>
        `;
      } else {
        renderQuestion();
      }
    }

    // Start the game
    shuffle(questions);
    renderQuestion();
  </script>
</body>
</html>
